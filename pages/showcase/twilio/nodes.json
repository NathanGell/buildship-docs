[
  {
    "output": {
      "buildship": {},
      "type": "object",
      "properties": {
        "messageId": {
          "buildship": {},
          "description": "The ID of the sent message",
          "type": "string",
          "title": "Message ID"
        }
      }
    },
    "type": "script",
    "category": ["Integrations"],
    "live": true,
    "group": [
      {
        "name": "Twilio",
        "description": "Nodes for receiving incoming messages and sending messages",
        "id": "wXY3zrPqXDVGH05yCm2a",
        "iconUrl": "https://www.cdnlogo.com/logos/t/14/twilio.svg"
      }
    ],
    "dependencies": { "twilio": "4.19.0" },
    "inputs": {
      "type": "object",
      "properties": {
        "mediaUrl": {
          "default": "",
          "buildship": { "index": 5, "sensitive": false },
          "pattern": "",
          "description": "Optional URL to an image, video, or other media to send as MMS (null for plain text message)",
          "title": "Media URL",
          "type": "string"
        },
        "authToken": {
          "default": "",
          "buildship": { "index": 0, "sensitive": true },
          "pattern": "",
          "description": "Your Twilio Auth Token. (Get your Auth token from your [Twilio Dashboard](https://console.twilio.com/).)",
          "type": "string",
          "title": "Auth Token"
        },
        "from": {
          "default": "",
          "buildship": { "index": 2, "sensitive": false },
          "pattern": "",
          "description": "Twilio phone number to send the message from",
          "title": " Sender Number",
          "type": "string"
        },
        "to": {
          "default": "",
          "buildship": { "index": 3, "sensitive": false },
          "pattern": "",
          "description": "Recipient's phone number",
          "title": "Recipient Number",
          "type": "string"
        },
        "body": {
          "buildship": { "index": 4 },
          "description": "Text message content",
          "type": "string",
          "title": "Message Body"
        },
        "accountSid": {
          "default": "",
          "buildship": { "index": 1, "sensitive": false },
          "pattern": "",
          "description": "Your Twilio Account SID. (Get your Account SID from your [Twilio Dashboard](https://console.twilio.com/).)",
          "type": "string",
          "title": "Account SID"
        }
      },
      "required": ["body", "authToken", "accountSid", "from", "to"]
    },
    "deployToBucket": {
      "ranBy": "bhavya@rowy.io.rowy",
      "completedAt": { "_seconds": 1701783756, "_nanoseconds": 14000000 }
    },
    "t": 412,
    "syncAllAtOnce": "1116",
    "_updatedBy": {
      "uid": "Nb5Sn267f6eOTgqnlB1d6Hxi5VR2",
      "emailVerified": true,
      "photoURL": "https://lh3.googleusercontent.com/a-/AFdZucpItz8EJNSW_ttNzT-N4cG9IQVT5Ipuvbq7xx5Z=s96-c",
      "updatedField": "groupInfo",
      "displayName": "Bhavya Verma",
      "email": "bhavya@rowy.io.rowy",
      "timestamp": { "_seconds": 1712832980, "_nanoseconds": 306000000 }
    },
    "groupInfo": "wXY3zrPqXDVGH05yCm2a",
    "meta": {
      "name": "Twilio SMS Sender",
      "icon": {
        "type": "URL",
        "url": "https://firebasestorage.googleapis.com/v0/b/website-a1s39m.appspot.com/o/buildship-app-logos%2Ftwilio.svg?alt=media&token=bfb00341-bfc0-4068-a51f-978ca570faa5"
      },
      "description": "Sends an SMS/MMS using Twilio service",
      "id": "twilio-sms-sender"
    },
    "id": "twilio-sms-sender",
    "integrations": [],
    "integrity": "v3:673267c08a214674f50e74fe4b52b663",
    "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-sms-sender/1.1.0/build.cjs",
    "_libRef": {
      "integrity": "v3:fd8cd3a4e6c699c3b36d7032754efcaa",
      "libNodeRefId": "@buildship/twilio-sms-sender",
      "isDirty": false,
      "libType": "public",
      "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-sms-sender/1.0.2/build.cjs",
      "version": "1.0.2"
    },
    "version": "1.1.0",
    "script": "import { Twilio } from 'twilio';\nexport default async function sendTwilioMessage({ accountSid, authToken, from, to, body, mediaUrl }: NodeInputs, { req }: NodeScriptOptions) : NodeOutput  {\n  const client = new Twilio(accountSid, authToken);\n\n  const messageParams = { from, to }\n\n  if (mediaUrl) {\n    messageParams.mediaUrl = [mediaUrl]\n  } else {\n    messageParams.body = body\n  }\n\n  const message = await client.messages.create(messageParams);\n\n  return { messageId: message.sid };\n}",
    "deployedAt": { "_seconds": 1717467670, "_nanoseconds": 71000000 },
    "failCount": 50,
    "usageCounter": 338
  },
  {
    "output": {
      "buildship": {},
      "type": "object",
      "properties": {
        "MessagingServiceSid": {
          "buildship": {},
          "description": "The unique identifier of the Messaging Service",
          "type": "string",
          "title": "Messaging Service SID"
        },
        "mediaUrl": {
          "buildship": {},
          "description": "The URL of the media content, if available",
          "type": "string",
          "title": "Media URL"
        },
        "From": {
          "buildship": {},
          "description": "The phone number of the sender",
          "type": "string",
          "title": "Sender Number"
        },
        "To": {
          "buildship": {},
          "description": "The phone number of the receiver",
          "type": "string",
          "title": "Receiver Number"
        },
        "mediaContentType": {
          "buildship": {},
          "description": "The content type of the media content, if available",
          "type": "string",
          "title": "Media Content Type"
        },
        "MessageSid": {
          "buildship": {},
          "description": "The unique identifier of the message",
          "type": "string",
          "title": "Message SID"
        },
        "Body": {
          "buildship": {},
          "description": "The content of the message",
          "type": "string",
          "title": "Message Content"
        }
      }
    },
    "inputs": { "type": "object", "required": [], "properties": {} },
    "type": "script",
    "category": ["Integrations"],
    "live": true,
    "group": [
      {
        "name": "Twilio",
        "description": "Nodes for receiving incoming messages and sending messages",
        "id": "wXY3zrPqXDVGH05yCm2a",
        "iconUrl": "https://www.cdnlogo.com/logos/t/14/twilio.svg"
      }
    ],
    "dependencies": {},
    "t": 413,
    "syncAllAtOnce": "1118",
    "groupInfo": "wXY3zrPqXDVGH05yCm2a",
    "meta": {
      "name": "Twilio Webhook Message Parser",
      "icon": {
        "type": "URL",
        "url": "https://firebasestorage.googleapis.com/v0/b/website-a1s39m.appspot.com/o/buildship-app-logos%2Ftwilio.svg?alt=media&token=bfb00341-bfc0-4068-a51f-978ca570faa5"
      },
      "description": "Extracts information from the Twilio webhook request such as number and message content, including audio content if available",
      "id": "twilio-webhook-message-parser"
    },
    "id": "twilio-webhook-message-parser",
    "integrations": [],
    "_updatedBy": {
      "emailVerified": true,
      "photoURL": "https://lh3.googleusercontent.com/a/AAcHTtfPe0yH9QzE2iqPg4aVB_xklqimDxaI5WOsRM9XqSvD=s96-c",
      "uid": "lGcdiftmK4QNZ2XuMUVqrm6B21c2",
      "displayName": "Aaditya Bhusal",
      "email": "aaditya@rowy.io.rowy",
      "timestamp": { "_seconds": 1716279349, "_nanoseconds": 204000000 }
    },
    "integrity": "v3:11a77e372babf0ffbe2041f4b8c09471",
    "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-webhook-message-parser/1.1.0/build.cjs",
    "version": "1.1.0",
    "_libRef": {
      "integrity": "v3:bcec344b97d4e2c8502103f660a17137",
      "libNodeRefId": "@buildship/twilio-webhook-message-parser",
      "isDirty": false,
      "libType": "public",
      "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-webhook-message-parser/1.0.0/build.cjs",
      "version": "1.0.0"
    },
    "script": "export default async function twilioWebhookParser({}: NodeInputs,{req}: NodeScriptOptions) : NodeOutput  {\n  const { MessagingServiceSid, MessageSid, Body, From, To, NumMedia } = req.request.body;\n  const mediaUrl = NumMedia === '1' ? req.body['MediaUrl0'] : '';\n  const mediaContentType = NumMedia === '1' ? req.body['MediaContentType0'] : '';\n  return { MessagingServiceSid, MessageSid, Body, From, To, mediaUrl, mediaContentType };\n}",
    "failCount": 35,
    "deployedAt": { "_seconds": 1717467670, "_nanoseconds": 71000000 },
    "usageCounter": 330
  },
  {
    "output": {
      "buildship": {},
      "description": "The response from the Twilio API",
      "type": "object",
      "title": "Twilio Response",
      "properties": {
        "sid": { "buildship": {}, "type": "string", "title": "Message SID" },
        "status": { "buildship": {}, "type": "string", "title": "Message Status" }
      }
    },
    "type": "script",
    "category": ["Integrations"],
    "indexVector": true,
    "live": true,
    "group": [
      {
        "name": "Twilio",
        "description": "Nodes for receiving incoming messages and sending messages",
        "id": "wXY3zrPqXDVGH05yCm2a",
        "iconUrl": "https://www.cdnlogo.com/logos/t/14/twilio.svg"
      }
    ],
    "dependencies": { "twilio": "4.19.0" },
    "inputs": {
      "type": "object",
      "properties": {
        "sender": {
          "buildship": { "index": 2 },
          "description": "Your Twilio WhatsApp number",
          "type": "string",
          "title": "Sender Number"
        },
        "authToken": {
          "default": "",
          "buildship": { "index": 0, "sensitive": true },
          "pattern": "",
          "description": "Your Twilio Auth Token. (Get your Auth token from your [Twilio Dashboard](https://console.twilio.com/).)",
          "type": "string",
          "title": "Auth Token"
        },
        "recipient": {
          "buildship": { "index": 3 },
          "description": "The recipient's WhatsApp number",
          "title": "Recipient Number",
          "type": "string"
        },
        "message": {
          "buildship": { "index": 4 },
          "description": "The message to be sent",
          "title": "Message",
          "type": "string"
        },
        "accountSid": {
          "default": "",
          "buildship": { "index": 1, "sensitive": false },
          "pattern": "",
          "description": "Your Twilio Account SID. (Get your Account SID from your [Twilio Dashboard](https://console.twilio.com/).)",
          "type": "string",
          "title": "Account SID"
        }
      },
      "required": ["sender", "recipient", "message", "accountSid", "authToken"]
    },
    "deployToBucket": {
      "ranBy": "luis@rowy.io.rowy",
      "completedAt": { "_seconds": 1702485136, "_nanoseconds": 899000000 }
    },
    "t": 426,
    "syncAllAtOnce": "1109",
    "_updatedBy": {
      "uid": "Nb5Sn267f6eOTgqnlB1d6Hxi5VR2",
      "emailVerified": true,
      "photoURL": "https://lh3.googleusercontent.com/a-/AFdZucpItz8EJNSW_ttNzT-N4cG9IQVT5Ipuvbq7xx5Z=s96-c",
      "updatedField": "groupInfo",
      "displayName": "Bhavya Verma",
      "email": "bhavya@rowy.io.rowy",
      "timestamp": { "_seconds": 1712832980, "_nanoseconds": 306000000 }
    },
    "groupInfo": "wXY3zrPqXDVGH05yCm2a",
    "meta": {
      "name": "Twilio Whatsapp Sender",
      "icon": {
        "type": "URL",
        "url": "https://firebasestorage.googleapis.com/v0/b/website-a1s39m.appspot.com/o/buildship-app-logos%2Ftwilio.svg?alt=media&token=bfb00341-bfc0-4068-a51f-978ca570faa5"
      },
      "description": "Sends a WhatsApp message using Twilio WhatsApp Sender",
      "id": "twilio-whatsapp-sender"
    },
    "id": "twilio-whatsapp-sender",
    "integrations": [],
    "integrity": "v3:ef3c2de1994e14ba2603b5066e255b96",
    "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-whatsapp-sender/1.1.0/build.cjs",
    "_libRef": {
      "integrity": "v3:5f5a707b989a7ad8563e1fdaee1a9481",
      "libNodeRefId": "@buildship/twilio-whatsapp-sender",
      "isDirty": false,
      "libType": "public",
      "src": "https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/twilio-whatsapp-sender/1.0.2/build.cjs",
      "version": "1.0.2"
    },
    "version": "1.1.0",
    "script": "import { Twilio } from 'twilio';\nexport default async function twilioWhatsappSender({\n    accountSid,\n    authToken,\n    sender,\n    recipient,\n    message\n}: NodeInputs, {logging}: NodeScriptOptions) : NodeOutput  {\n    const client = new Twilio(accountSid, authToken);\n    const messageOptions = {\n      body: message,\n      from: sender.startsWith('whatsapp:') ? sender : 'whatsapp:' + sender,\n      to: recipient.startsWith('whatsapp:') ? recipient : 'whatsapp:' + recipient\n    }\n    const response = await client.messages.create(messageOptions);\n    return response;\n}",
    "failCount": 52,
    "deployedAt": { "_seconds": 1717467670, "_nanoseconds": 71000000 },
    "usageCounter": 519
  }
]
