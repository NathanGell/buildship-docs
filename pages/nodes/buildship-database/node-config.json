{"output":{"buildship":{},"type":"object","properties":{"success":{"buildship":{"index":0},"description":"Indicates if the object was added to the array successfully","type":"boolean","title":"Success"}}},"meta":{"name":"Add Object to Array","icon":{"type":"URL","url":"https://firebasestorage.googleapis.com/v0/b/website-a1s39m.appspot.com/o/buildship-app-logos%2FIcon.png?alt=media&token=878ed11b-1cf2-45d8-9951-7e95a16d26af&_gl=1*1ld9l67*_ga*NzgyMDk5NjMxLjE2OTY4NzE3ODU.*_ga_CW55HF8NVT*MTY5NjkyMzc5OC4yLjEuMTY5NjkyMzgzMy4yNS4wLjA."},"description":"Adds an object to an existing array in a Firestore document","id":"buildship-firestore-array-union"},"inputs":{"type":"object","properties":{"fieldKey":{"buildship":{"index":2},"description":"The key of the array field in the document","title":"Field Key","type":"string"},"documentID":{"buildship":{"index":1},"description":"The ID of the document containing the array field","title":"Document ID","type":"string"},"collectionName":{"buildship":{"index":0},"description":"The name of your Firestore collection","title":"Collection Name","type":"string"},"object":{"buildship":{"index":3},"description":"The object to add to the array.\nEg: `\"hobbies\": [\"Reading\", \"Traveling\"]`","title":"Object","type":"object"}},"required":["collectionName","documentID","fieldKey","object"]},"id":"buildship-firestore-array-union","type":"script","integrations":[],"_libRef":{"integrity":"v3:0c3a6b42e932f762de24bb3506bd7e72","libNodeRefId":"@buildship/buildship-firestore-array-union","isDirty":false,"libType":"public","src":"https://storage.googleapis.com/buildship-app-us-central1/publicLib/nodes/@buildship/buildship-firestore-array-union/1.1.0/build.cjs","version":"1.1.0"},"script":"import { Firestore, FieldValue } from '@google-cloud/firestore';\n\nexport default async function addObjectToArray({\n  collectionName,\n  documentID,\n  fieldKey,\n  object,\n}: NodeInputs) : NodeOutput  {\n  try{\n    const firestore = new Firestore(undefined);\n\n    const fieldValue = FieldValue;\n  \n    await firestore\n      .collection(collectionName)\n      .doc(documentID)\n      .update({ [fieldKey]: fieldValue.arrayUnion(object) });\n  \n    return { success: true };\n  }\n  catch(e){\n    return e;\n  }\n}\n","dependencies":{"@google-cloud/firestore":"7.1.0"}}